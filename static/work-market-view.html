<!doctype html>
<html lang="zh-CN" xml:lang="zh-CN">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>
<meta name="renderer" content="webkit"/>
<title>CRM2.0</title>
<script src="../js/init.min.js"></script>
<link rel="stylesheet" href="../css/reset.css">
<link rel="stylesheet" href="../css/swiper.css">
<link rel="stylesheet" href="../css/main.css" id="profile">
<script src="../js/jquery.min.js"></script>
<script src="../js/swiper.min.js"></script>
</head>

<body>
	<div class="crm-wrap">
		<div class="rank-page info-page visit-page">
      <div class="fnPanel row round-mt15">
        <div class="filter cell">筛选</div>
        <div class="searchFilter nofixed">
          <div class="inner row">
            <div class="calendar row">
              <div class="ipt cell"><input type="text" readonly value="2017/09/11"></div>
              <span class="gap">-</span>
              <div class="ipt cell"><input type="text" readonly value="2017/09/11"></div>
            </div>
          </div>
        </div>
      </div>

      <div class="orderFilterGroup" style="top: 0.84rem;">
        <div class="itemsBox">
          <div class="filterList single">
            <ul style="padding-bottom: 0.86rem;">
              <li class="active">公鸡贷</li>
            </ul>
            <div class="btnGrp row">
              <div class="cell resetBtn">重置</div>
              <div class="cell okBtn">确定</div>
            </div>
          </div>
        </div>
      </div>

      <div class="resultList">
        <div class="card area">
          <div class="row departByLine">
            <div class="cell">
              <div class="ft14">2018年08月</div>
            </div>
            <div class="cell">
              <div class="fc-blue label-grow">综合成长评估：75</div>
              <div class="label-grow">能力评估：80%</div>
              <div class="label-reduce">意愿分位：15%</div>
            </div>
          </div>
        </div>
        <div class="card area">
          <div class="row departByLine">
            <div class="cell">
              <div class="ft14">2018年08月</div>
            </div>
            <div class="cell">
              <div class="fc-blue label-grow">综合成长评估：75</div>
              <div class="label-grow">能力评估：80%</div>
              <div class="label-reduce">意愿分位：15%</div>
            </div>
          </div>
        </div>
      </div>

		</div>
	</div>
	<script type="text/javascript">
		$(function () {
			// 切换皮肤 
			changeTheme()

    // 定义公用切换方法
    var activer = function (els, fn) {
      $(els).on('click', function () {
        $(this).addClass('active').siblings().removeClass('active');
        fn(this, $(this).index())
      })
    }

    // 显示排序和筛选框
    var orderFilterGroup = $('.orderFilterGroup');
    var orderFilterItems = orderFilterGroup.find('.itemsBox');
    var filterOrOrderBtns = $('.fnPanel .filter');
    activer(filterOrOrderBtns, function (e, i) {
      orderFilterGroup.addClass('show');
      orderFilterItems.removeClass('show');
      orderFilterItems.eq(i).addClass('show');
    })
    orderFilterItems.on('click', function (ev) {
      ev.stopPropagation();
    })

    // 隐藏选框
    var hideTimer;
    var hideOrderFilter = function (time) {
      hideTimer && clearTimeout(hideTimer);
      hideTimer = setTimeout(function () {
        filterOrOrderBtns.removeClass('active');
        orderFilterGroup.removeClass('show');
        clearTimeout(hideTimer);
      }, time || 0)
    }
    orderFilterGroup.on('click', hideOrderFilter);

    // 过滤规则选择
    activer('.filterList ul li', function (e, i) {
      console.log(e.innerText, i)
    });

    // 点击确定或重置过滤规则
    $('.btnGrp .resetBtn').on('click', function () {
      console.log('点击了重置！');
    })

    $('.btnGrp .okBtn').on('click', function () {
      console.log('点击了确定！');
      hideOrderFilter();
    })
  })
	</script>
</body>
</html>
